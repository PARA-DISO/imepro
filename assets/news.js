import{c as o,M as f,F as d}from"./footer.js";import{H as p}from"./header.js";import{g as c,a as _,_ as m,N as h}from"./generate_html.js";import{n as i,_ as g}from"./recentry_news.js";function x(a,t,l){for(let e=0;e<a.length;e++)if(a[e][t]===l)return e;return!1}function u(){o(m,{center:{text:"ALL",url:"./"}}).mount("#page_nav"),o(h).mount("#news_contents")}window.onload=()=>{o(f).mount("#navigation"),o(d).mount("#footer"),o(p).mount("#header_contents");let a=c(""+window.location);if(a.id){var t=x(i,"id",a.id);if(typeof t=="number"&&t<i.length){let e=i[t];fetch("/imepro/news_contents/"+e.fileName).then(n=>n.json()).then(n=>{let r=_(n);document.getElementById("news_contents").appendChild(r);var s={center:{text:"TOP",url:"./"}};t>0&&(s.left={text:"Prev",url:"./?id="+i[t-1].id}),t!=i.length-1&&(s.right={text:"Next",url:"./?id="+i[t+1].id}),o(m,s).mount("#page_nav")}).catch(n=>{u()})}else u()}else{let e=a?.page||0;e=parseInt(e);let n=20,r=Math.ceil(i.length/n)-1;e=e<r?e:r,o(g,{page:e,display_size:n}).mount("#news_contents");var l={center:{text:"Top",url:"./?page=0"}};e>0&&(l.left={text:"Prev",url:"./?page="+(e-1)}),e!=r&&(l.right={text:"Next",url:"./?page="+(e+1)}),o(m,l).mount("#page_nav")}};
